= form_with(model: deposit, local: true) do |f|
  - if deposit.errors.any?
    = render 'layouts/error', var: deposit
  .input-group.mb-3
    .input-group-prepend
      %span.input-group-text
        #{action_name == 'withdraw' ? '引出額' : '貯金額'}
    = f.number_field :amount, class: "form-control", min: 0, max: couples_total_amount, required: true
    .input-group-append
      %span.input-group-text 円
  .form-group
    %label{for: 'date'} 日付
    %div
      = f.date_field :date, class: "form-control", required: true, value: action_name == 'edit' ? Date.parse(deposit.date.strftime("%Y-%m-%d")) : Date.current
  .form-group
    %label{ for: 'memo' } メモ
    %div
      = f.text_field :memo, class: "form-control"
  - if action_name == 'withdraw'
    = f.hidden_field :is_withdrawn, value: true
  = f.submit '送信する', class: "btn btn-default btn-confirm"

  - if action_name == 'edit'
    = link_to '削除する', deposit_path(deposit.id), method: :delete, data: {confirm: 'Are you sure?'}, class: 'btn btn-delete'